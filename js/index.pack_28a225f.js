!function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=12)}([function(t){var e=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=e)},function(t,e,n){t.exports=!n(4)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},function(t){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var r=n(2),o=n(0),i=n(16),a=n(18),s=n(7),c="prototype",u=function(t,e,n){var f,l,p,h=t&u.F,d=t&u.G,m=t&u.S,v=t&u.P,g=t&u.B,y=t&u.W,b=d?o:o[e]||(o[e]={}),w=b[c],_=d?r:m?r[e]:(r[e]||{})[c];for(f in d&&(n=e),n)(l=!h&&_&&void 0!==_[f])&&s(b,f)||(p=l?_[f]:n[f],b[f]=d&&"function"!=typeof _[f]?n[f]:g&&l?i(p,r):y&&_[f]==p?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e[c]=t[c],e}(p):v&&"function"==typeof p?i(Function.call,p):p,v&&((b.virtual||(b.virtual={}))[f]=p,t&u.R&&w&&!w[f]&&a(w,f,p)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e,n){var r=n(19),o=n(20),i=n(22),a=Object.defineProperty;e.f=n(1)?Object.defineProperty:function(t,e,n){if(r(t),e=i(e,!0),r(n),o)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t){var e={}.hasOwnProperty;t.exports=function(t,n){return e.call(t,n)}},function(t,e,n){var r=n(9),o=n(10);t.exports=function(t){return r(o(t))}},function(t,e,n){var r=n(30);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t){var e=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:e)(t)}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var o=r(n(13)),i=r(n(24)),a=r(n(42)),s=i.default||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),o.default(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=r(n(44));n(46);var f=function(){function t(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.animateList=[],this.windowWidth=document.documentElement.clientWidth,this.fontSize=parseFloat(getComputedStyle(document.documentElement).fontSize)}return c(t,[{key:"init",value:function(){this.lazyLoadImg(),this.getAnimateList(),this.setAnimate(),this.addResizeListener(),this.bindEvent(),this.bannerClickGA(),this.reportPerformance()}},{key:"setAnimate",value:function(){var t=this;if(Array.prototype.find||(Array.prototype.find=function(t){return t&&(this.filter(t)||[])[0]}),this.animateList){var e=new IntersectionObserver((function(n){n.forEach((function(n){var r=t.animateList.find((function(e){return n.target==e.group&&e.type==(t.windowWidth>768?"pc":"wap")}));r&&n.intersectionRatio>r.observe&&(e.unobserve(n.target),r.items.forEach((function(t){t.item.classList.add("will-change"),u.default.animate(t.item,{translateY:t.y,opacity:t.opacity||0},{translateY:0,opacity:100},t.time,t.start||0,"easeIn",(function(){t.item.classList.remove("will-change")}))})))}))}),{threshold:[0,.18,.25]});this.animateList.forEach((function(t){e.observe(t.group)}))}}},{key:"getAnimateList",value:function(){var t=document.querySelectorAll("div[data-animate-group]"),e=document.querySelectorAll("div[data-animate-pc-group]"),n=document.querySelectorAll("[data-animate-wap-group]");if(e||n){for(var r=this,o=0;o<e.length;o++){for(var i=e[o],a=i.getAttribute("data-animate-pc-group"),c=i.getAttribute("data-animate-pc-observe")||0,u=[],f=i.querySelectorAll("[data-animate-pc-prop]"),l=0;l<f.length;l++){var p=f[l],h=p.getAttribute("data-animate-pc-prop"),d=new Function("return "+h)();"top-opacity-enter"==a&&r.windowWidth>768&&r.windowWidth<1600&&(d.y=d.y/1600*r.windowWidth,p.setAttribute("style","opacity:"+d.opacity/100+";transform:translateY("+d.y+"px)")),p.removeAttribute("data-animate-pc-prop"),u.push(s({item:p},d))}r.animateList.push({type:"pc",name:a,group:i,items:u,observe:c})}for(var m=0;m<n.length;m++){for(var v=n[m],g=v.getAttribute("data-animate-wap-group"),y=v.getAttribute("data-animate-wap-observe")||0,b=[],w=v.querySelectorAll("[data-animate-wap-prop]"),_=0;_<w.length;_++){var I=w[_],x=I.getAttribute("data-animate-wap-prop"),A=new Function("return "+x)();"top-opacity-enter"==g&&r.windowWidth<=768&&(A.y=parseInt(A.y/100*r.fontSize),I.setAttribute("style","opacity:"+A.opacity/100+";transform:translateY("+A.y+"px)")),I.removeAttribute("data-animate-wap-prop"),b.push(s({item:I},A))}r.animateList.push({type:"wap",name:g,group:v,items:b,observe:y})}for(var O=0;O<t.length;O++){for(var E=t[O],S=E.getAttribute("data-animate-group"),T=E.getAttribute("data-animate-pc-observe")||0,k=E.getAttribute("data-animate-wap-observe")||0,F=[],R=[],C=E.querySelectorAll("[data-animate-pc-prop]"),M=0;M<C.length;M++){var L=C[M],P=L.getAttribute("data-animate-pc-prop"),j=new Function("return "+P)();"top-opacity-enter"==S&&(r.windowWidth>768&&r.windowWidth<1600&&(j.y=j.y/1600*r.windowWidth),L.setAttribute("style","opacity:"+j.opacity/100+";transform:translateY("+j.y+"px)")),L.removeAttribute("data-animate-pc-prop"),F.push(s({item:L},j))}for(var $=E.querySelectorAll("div[data-animate-wap-prop]"),q=0;q<$.length;q++){var V=$[q],N=V.getAttribute("data-animate-wap-prop"),z=new Function("return "+N)();"top-opacity-enter"==S&&r.windowWidth<=768&&(z.y=parseInt(z.y/100*r.fontSize),V.setAttribute("style","opacity:"+z.opacity/100+";transform:translateY("+z.y+"px)")),V.removeAttribute("data-animate-wap-prop"),R.push(s({item:V},z))}r.animateList.push({type:"pc",name:S,group:E,items:F,observe:T}),r.animateList.push({type:"wap",name:S,group:E,items:R,observe:k})}}}},{key:"addResizeListener",value:function(){var t=this;window.addEventListener("resize",(function(){t.windowWidth=document.documentElement.clientWidth,t.fontSize=parseFloat(getComputedStyle(document.documentElement).fontSize)}))}},{key:"bindEvent",value:function(){var t=this,e=$(".J-video-control");e.on("click",(function(){var t=$(this),e=$(this).find("video:visible").attr("data-src");if(e){var n=$(this).find("video:visible").attr("data-poster"),r=new Video({mount:"#J_video",url:e,post:n});globalAPI.pageVideoBuryingPoint({dom:r.$video,playCallback:function(e){e&&""!==e||Vtrack.clickStats({cfrom:1105,name:t.data("name")})}})}})),e.hover((function(){var e=this,n=$(this),r=$(this).find("video")[0],o=$(this).find("video").attr("src"),i=$(this).find(".coverImg");!globalAPI.judegMobileWidth()&&r&&o&&(t.timer=setTimeout((function(){i.addClass("cover-hide"),$(e).hasClass("video-whole")&&$(e).find(".banner-sm-content").hide(),r.play(),Vtrack.clickStats({cfrom:1105,name:n.data("name")})}),200))}),(function(){if(t.timer){clearTimeout(t.timer);var e=$(this).find("video")[0],n=$(this).find(".coverImg");$(this).hasClass("video-whole")&&$(this).find(".banner-sm-content").show(),n&&n.removeClass("cover-hide"),e&&(e.currentTime=0)}}))}},{key:"lazyLoadImg",value:function(){setTimeout((function(){$(".lazyLoad").each((function(t,e){var n=$(e).data("src")||$(e).data("srcset");$(e).data("src")?$(e).attr("src",n).removeAttr("data-src"):$(e).attr("srcset",n).removeAttr("data-srcset")}))}),1e3)}},{key:"bannerClickGA",value:function(){$(".J-banner-ga").on("click",(function(){return!!$(this).attr("href")&&void globalAPI.gaPushFun({event:"bannerInteraction",bannerName:$(this).data("name"),bannerPosition:$(this).data("position"),linkDestination:$(this).attr("href")})}))}},{key:"reportPerformance",value:function(){function t(t){return"FCP"===t.name&&(c.fcp=Number(t.value.toFixed(0))),"LCP"===t.name&&(c.lcp=Number(t.value.toFixed(0))),"FID"===t.name&&(c.fid=Number(t.value.toFixed(0))),"CLS"===t.name?(c.cls=Number(t.value.toFixed(0)),navigator.sendBeacon(o,a.default(i.default({},s,c)))):void 0}if("true"===globalVar.trackSwitch){if(globalVar.oneTrustShow){var e=globalAPI.getCookie("VCMConsent");if(e){var n=JSON.parse(e).activeGroups;if(n&&-1===n.indexOf("3"))return!1}}var r=navigator.userAgent.toLowerCase(),o="iqoo"===globalVar.brandMark&&"cn"===globalVar.regionCode?"//stpc.vivo.com.cn/iqoo/flyHeart":"//"+globalVar.dataCenter+"-st-expc.vivo.com/eden/flyHeart",s={cfrom:"00001",cm:globalVar.regionCode,lang:globalVar.languageCode,url:window.location.href,version:"v4.5",visittime:+new Date,visittype:/android/i.test(r)||/ipad|iphone|ipod/i.test(r)&&!window.MSStream?"wap":"pc",brand:"iqoo"===globalVar.brandMark?"2":"1"},c={dns:"undefined"==typeof performance?0:performance.timing.domainLookupEnd-performance.timing.domainLookupStart,tcp:"undefined"==typeof performance?0:performance.timing.connectEnd-performance.timing.connectStart,ttfb:"undefined"==typeof performance?0:performance.timing.responseStart-performance.timing.fetchStart,tti:"undefined"==typeof performance?0:performance.timing.domInteractive-performance.timing.fetchStart,load:"undefined"==typeof performance?0:performance.timing.loadEventStart-performance.timing.fetchStart,fcp:0,lcp:0,fid:0,cls:0};webVitals.getFCP(t),webVitals.getLCP(t),webVitals.getFID(t),webVitals.getCLS(t)}}}]),t}();$((function(){(new f).init()}))},function(t,e,n){t.exports={default:n(14),__esModule:!0}},function(t,e,n){n(15);var r=n(0).Object;t.exports=function(t,e,n){return r.defineProperty(t,e,n)}},function(t,e,n){var r=n(5);r(r.S+r.F*!n(1),"Object",{defineProperty:n(6).f})},function(t,e,n){var r=n(17);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},function(t){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(6),o=n(23);t.exports=n(1)?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(3);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){t.exports=!n(1)&&!n(4)((function(){return 7!=Object.defineProperty(n(21)("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(3),o=n(2).document,i=r(o)&&r(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},function(t,e,n){var r=n(3);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){t.exports={default:n(25),__esModule:!0}},function(t,e,n){n(26),t.exports=n(0).Object.assign},function(t,e,n){var r=n(5);r(r.S+r.F,"Object",{assign:n(27)})},function(t,e,n){"use strict";var r=n(1),o=n(28),i=n(39),a=n(40),s=n(41),c=n(9),u=Object.assign;t.exports=!u||n(4)((function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=r}))?function(t){for(var e=s(t),n=arguments.length,u=1,f=i.f,l=a.f;n>u;)for(var p,h=c(arguments[u++]),d=f?o(h).concat(f(h)):o(h),m=d.length,v=0;m>v;)p=d[v++],(!r||l.call(h,p))&&(e[p]=h[p]);return e}:u},function(t,e,n){var r=n(29),o=n(38);t.exports=Object.keys||function(t){return r(t,o)}},function(t,e,n){var r=n(7),o=n(8),i=n(31)(!1),a=n(34)("IE_PROTO");t.exports=function(t,e){var n,s=o(t),c=0,u=[];for(n in s)n!=a&&r(s,n)&&u.push(n);for(;e.length>c;)r(s,n=e[c++])&&(~i(u,n)||u.push(n));return u}},function(t){var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},function(t,e,n){var r=n(8),o=n(32),i=n(33);t.exports=function(t){return function(e,n,a){var s,c=r(e),u=o(c.length),f=i(a,u);if(t&&n!=n){for(;u>f;)if((s=c[f++])!=s)return!0}else for(;u>f;f++)if((t||f in c)&&c[f]===n)return t||f||0;return!t&&-1}}},function(t,e,n){var r=n(11),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,e,n){var r=n(11),o=Math.max,i=Math.min;t.exports=function(t,e){return 0>(t=r(t))?o(t+e,0):i(t,e)}},function(t,e,n){var r=n(35)("keys"),o=n(37);t.exports=function(t){return r[t]||(r[t]=o(t))}},function(t,e,n){var r=n(0),o=n(2),i="__core-js_shared__",a=o[i]||(o[i]={});(t.exports=function(t,e){return a[t]||(a[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(36)?"pure":"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})},function(t){t.exports=!0},function(t){var e=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++e+n).toString(36))}},function(t){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(10);t.exports=function(t){return Object(r(t))}},function(t,e,n){t.exports={default:n(43),__esModule:!0}},function(t,e,n){var r=n(0),o=r.JSON||(r.JSON={stringify:JSON.stringify});t.exports=function(){return o.stringify.apply(o,arguments)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(45));e.default={Tween:{easeInOut:function(t,e,n,o){return r.default(.25,.1,.25,1)(t/o)*n+e},easeIn:function(t,e,n,o){return r.default(0,0,.32,1)(t/o)*n+e},easeOut:function(t,e,n,o){return r.default(.64,0,1,1)(t/o)*n+e},linear:function(t,e,n,r){return n*t/r+e}},changeColor:function(t){if((t=t.toLowerCase())&&/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(t)){if(4===t.length){for(var e="#",n=1;4>n;n+=1)e+=t.slice(n,n+1).concat(t.slice(n,n+1));t=e}for(var r=[],o=1;7>o;o+=2)r.push(parseInt("0x"+t.slice(o,o+2)));return r}return/^(rgb|RGB)/.test(t)?t.replace(/(?:\(|\)|rgb|RGB)*/g,"").split(",").map(Number):t},tRequestAnimationFrame:function(t){return window.requestAnimationFrame?window.requestAnimationFrame(t):window.webkitRequestAnimationFrame?window.webkitRequestAnimationFrame(t):window.mozRequestAnimationFrame?window.mozRequestAnimationFrame(t):window.setTimeout(t,1e3/60)},tCancelAnimationFrame:function(t){return window.cancelAnimationFrame?window.cancelAnimationFrame(t):window.webkitCancelAnimationFrame?window.webkitCancelAnimationFrame(t):window.mozCancelAnimationFrame?window.mozCancelAnimationFrame(t):window.clearTimeout(t)},getStyle:function(t,e){return t.currentStyle?t.currentStyle[e]:document.defaultView.getComputedStyle(t,null)[e]},animate:function(t,e,n,r,o,i,a){var s=this,c={};t&&t.timer&&s.tCancelAnimationFrame(t.timer);var u="scaleX,scaleY,scaleZ,scale,translateX,translateY,translateZ,skewX,skewY,rotate,rotateX,rotateY".split(","),f="scaleX,scaleY,scaleZ,scale,opacity,color,backgroundColor".split(","),l="color,backgroundColor".split(","),p="skewX,skewY,rotate,rotateX,rotateY".split(",");for(var h in n)"opacity"==h?c[h]=0==Math.round(100*parseFloat(s.getStyle(t,h)))?0:Math.round(100*parseFloat(s.getStyle(t,h)))||100:l.indexOf(h)>=0?(c[h]=s.changeColor(e[h]),n[h]=s.changeColor(n[h])):c[h]=u.indexOf(h)>=0?e[h]||0:"scrollTop"==h?t.scrollTop:parseInt(s.getStyle(t,h))||0;var d=+new Date;!function e(){var h=+new Date,m="",v=void 0,g=0;if(h-d>=o)for(var y in g=Math.min(1,(h-d-o)/r),n){if(l.indexOf(y)>=0){v=[];for(var b=0;3>b;b++){var w=s.Tween[i](g*r,c[y][b],n[y][b]-c[y][b],r);v[b]=parseInt(w)}}else v=s.Tween[i](g*r,c[y],n[y]-c[y],r);"opacity"==y?(t.style.filter="alpha(opacity : "+v+" )",t.style.opacity=v/100):u.indexOf(y)>=0?(m+=f.indexOf(y)>=0?" "+y+"("+v+")":p.indexOf(y)>=0?" "+y+"("+v+"deg)":" "+y+"("+v+"px)",t.style.transform=m,t.style.msTransform=m,t.style.webkitTransform=m):"scrollTop"==y?t.scrollTop=parseInt(v):t.style[y]=l.indexOf(y)>=0?"rgb("+v.join(",")+")":v+"px"}1==g?(s.tCancelAnimationFrame(t.timer),a&&a()):t.timer=s.tRequestAnimationFrame(e)}()},listAnimate:function(t,e,n,r,o,i){var a=document.querySelectorAll(t),s=a.length;if(s>0)if(r)for(var c=s-1;c>=0;c--)this.animate(a[c],o,i,e,n*(s-1-c),"easeOut");else for(var u=0;s>u;u++)this.animate(a[u],o,i,e,n*u,"easeIn")},listAnimateObj:function(t,e,n,r,o,i){var a=t,s=a.length;if(s>0)if(r)for(var c=s-1;c>=0;c--)this.animate(a[c],o,i,e,n*(s-1-c),"easeOut");else for(var u=0;s>u;u++)this.animate(a[u],o,i,e,n*u,"easeIn")}}},function(t){"use strict";function e(t,e){return 1-3*e+3*t}function n(t,e){return 3*e-6*t}function r(t){return 3*t}function o(t,o,i){return((e(o,i)*t+n(o,i))*t+r(o))*t}function i(t,o,i){return 3*e(o,i)*t*t+2*n(o,i)*t+r(o)}function a(t,e,n,r,i){var a,s,c=0;do{(a=o(s=e+(n-e)/2,r,i)-t)>0?n=s:e=s}while(Math.abs(a)>f&&++c<l);return s}function s(t,e,n,r){for(var a=0;u>a;++a){var s=i(e,n,r);if(0===s)return e;e-=(o(e,n,r)-t)/s}return e}function c(t){return t}var u=4,f=1e-7,l=10,p=.1,h="function"==typeof Float32Array;t.exports=function(t,e,n,r){function u(e){for(var r=0,o=1;10!==o&&f[o]<=e;++o)r+=p;--o;var c=r+(e-f[o])/(f[o+1]-f[o])*p,u=i(c,t,n);return u>=.001?s(e,c,t,n):0===u?c:a(e,r,r+p,t,n)}if(!(t>=0&&1>=t&&n>=0&&1>=n))throw new Error("bezier x values must be in [0, 1] range");if(t===e&&n===r)return c;for(var f=h?new Float32Array(11):new Array(11),l=0;11>l;++l)f[l]=o(l*p,t,n);return function(t){return 0===t?0:1===t?1:o(u(t),e,r)}}},function(){"use strict";!function(t,e){function n(t){var e,n,r,o;this.time=t.time,this.target=t.target,this.rootBounds=t.rootBounds,this.boundingClientRect=t.boundingClientRect,this.intersectionRect=t.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0},this.isIntersecting=!!t.intersectionRect,n=(e=this.boundingClientRect).width*e.height,o=(r=this.intersectionRect).width*r.height,this.intersectionRatio=n?Number((o/n).toFixed(4)):this.isIntersecting?1:0}function r(t,e){var n=e||{};if("function"!=typeof t)throw new Error("callback must be a function");if(n.root&&1!=n.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=function(t,e){var n=null;return function(){n||(n=setTimeout((function(){t(),n=null}),e))}}(this._checkForIntersections.bind(this),this.THROTTLE_TIMEOUT),this._callback=t,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(n.rootMargin),this.thresholds=this._initThresholds(n.threshold),this.root=n.root||null,this.rootMargin=this._rootMarginValues.map((function(t){return t.value+t.unit})).join(" ")}function o(){return t.performance&&performance.now&&performance.now()}function i(t,e,n,r){"function"==typeof t.addEventListener?t.addEventListener(e,n,r||!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+e,n)}function a(t,e,n,r){"function"==typeof t.removeEventListener?t.removeEventListener(e,n,r||!1):"function"==typeof t.detatchEvent&&t.detatchEvent("on"+e,n)}function s(t,e){var n=Math.max(t.top,e.top),r=Math.min(t.bottom,e.bottom),o=Math.max(t.left,e.left),i=Math.min(t.right,e.right),a=i-o,s=r-n;return a>=0&&s>=0&&{top:n,bottom:r,left:o,right:i,width:a,height:s}}function c(t){var e;try{e=t.getBoundingClientRect()}catch(t){}return e?(e.width&&e.height||(e={top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.right-e.left,height:e.bottom-e.top}),e):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function u(t,e){for(var n=e;n;){if(n==t)return!0;n=f(n)}return!1}function f(t){var e=t.parentNode;return e&&11==e.nodeType&&e.host?e.host:e&&e.assignedSlot?e.assignedSlot.parentNode:e}if("IntersectionObserver"in t&&"IntersectionObserverEntry"in t&&"intersectionRatio"in t.IntersectionObserverEntry.prototype)"isIntersecting"in t.IntersectionObserverEntry.prototype||Object.defineProperty(t.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var l=[];r.prototype.THROTTLE_TIMEOUT=100,r.prototype.POLL_INTERVAL=null,r.prototype.USE_MUTATION_OBSERVER=!0,r.prototype.observe=function(t){if(!this._observationTargets.some((function(e){return e.element==t}))){if(!t||1!=t.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:t,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},r.prototype.unobserve=function(t){this._observationTargets=this._observationTargets.filter((function(e){return e.element!=t})),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},r.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},r.prototype.takeRecords=function(){var t=this._queuedEntries.slice();return this._queuedEntries=[],t},r.prototype._initThresholds=function(t){var e=t||[0];return Array.isArray(e)||(e=[e]),e.sort().filter((function(t,e,n){if("number"!=typeof t||isNaN(t)||0>t||t>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==n[e-1]}))},r.prototype._parseRootMargin=function(t){var e=(t||"0px").split(/\s+/).map((function(t){var e=/^(-?\d*\.?\d+)(px|%)$/.exec(t);if(!e)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(e[1]),unit:e[2]}}));return e[1]=e[1]||e[0],e[2]=e[2]||e[0],e[3]=e[3]||e[1],e},r.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(i(t,"resize",this._checkForIntersections,!0),i(e,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in t&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},r.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,a(t,"resize",this._checkForIntersections,!0),a(e,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},r.prototype._checkForIntersections=function(){var t=this._rootIsInDom(),e=t?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(r){var i=r.element,a=c(i),s=this._rootContainsTarget(i),u=r.entry,f=t&&s&&this._computeTargetAndRootIntersection(i,e),l=r.entry=new n({time:o(),target:i,boundingClientRect:a,rootBounds:e,intersectionRect:f});u?t&&s?this._hasCrossedThreshold(u,l)&&this._queuedEntries.push(l):u&&u.isIntersecting&&this._queuedEntries.push(l):this._queuedEntries.push(l)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},r.prototype._computeTargetAndRootIntersection=function(n,r){var o,i,a,u,l;if("none"!=t.getComputedStyle(n).display){for(o=c(n),i=f(n),a=!1;!a;){if(u=null,"none"==(l=1==i.nodeType?t.getComputedStyle(i):{}).display)return;if(i==this.root||i==e?(a=!0,u=r):i!=e.body&&i!=e.documentElement&&"visible"!=l.overflow&&(u=c(i)),u&&!(o=s(u,o)))break;i=f(i)}return o}},r.prototype._getRootRect=function(){var t,n,r;return this.root?t=c(this.root):(n=e.documentElement,r=e.body,t={top:0,left:0,right:n.clientWidth||r.clientWidth,width:n.clientWidth||r.clientWidth,bottom:n.clientHeight||r.clientHeight,height:n.clientHeight||r.clientHeight}),this._expandRectByRootMargin(t)},r.prototype._expandRectByRootMargin=function(t){var e=this._rootMarginValues.map((function(e,n){return"px"==e.unit?e.value:e.value*(n%2?t.width:t.height)/100})),n={top:t.top-e[0],right:t.right+e[1],bottom:t.bottom+e[2],left:t.left-e[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},r.prototype._hasCrossedThreshold=function(t,e){var n,r,o=t&&t.isIntersecting?t.intersectionRatio||0:-1,i=e.isIntersecting?e.intersectionRatio||0:-1;if(o!==i)for(n=0;n<this.thresholds.length;n++)if((r=this.thresholds[n])==o||r==i||o>r!=i>r)return!0},r.prototype._rootIsInDom=function(){return!this.root||u(e,this.root)},r.prototype._rootContainsTarget=function(t){return u(this.root||e,t)},r.prototype._registerInstance=function(){l.indexOf(this)<0&&l.push(this)},r.prototype._unregisterInstance=function(){var t=l.indexOf(this);-1!=t&&l.splice(t,1)},t.IntersectionObserver=r,t.IntersectionObserverEntry=n}}(window,document)}]);